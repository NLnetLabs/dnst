[package]
name = "dnst"
version = "0.1.0"
edition = "2021"
default-run = "dnst"
rust-version = "1.79"

[[bin]]
name = "ldns"
path = "src/bin/ldns.rs"

[dependencies]
bytes = "1.8.0"
chrono = "0.4.38"
clap = { version = "4.3.4", features = ["derive"] }
domain = { version = "0.10.3", git = "https://github.com/NLnetLabs/domain.git", features = [
    "zonefile",
    "bytes",
    "unstable-validate",
    "net",
    "unstable-client-transport",
    "tsig",
    "resolv",
] }
lexopt = "0.3.0"
tokio = "1.40.0"

# for implementation of nsec3 hash until domain has it stabilized
octseq = { version = "0.5.2", features = ["std"] }
ring = { version = "0.17" }

# This is a workaround. lazy_static 1.0.0 fails to compile, but sharded-slab
# still uses it. And sharded-slab is used by tracing-subscriber, which is
# used by domain, which is used by us.
_unused_lazy_static = { package = "lazy_static", version = "1.0.2" }

[dev-dependencies]
tempfile = "3.14.0"
domain = { version = "*", git = "https://github.com/NLnetLabs/domain.git", features = ["unstable-stelline"] }
